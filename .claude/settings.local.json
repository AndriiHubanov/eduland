{
  "permissions": {
    "allow": [
      "Bash(npm create vite@latest . -- --template react 2>&1)",
      "Bash(npm create vite@latest . -- --template react --force 2>&1 || echo \"trying alternative\")",
      "Bash(npm install 2>&1)",
      "Bash(npm install --prefer-offline 2>&1 | tail -5 || npm install 2>&1 | tail -10)",
      "Bash(curl -s --connect-timeout 5 https://registry.npmjs.org/ > /dev/null && echo \"ok\" || echo \"no internet\")",
      "Bash(curl -s --connect-timeout 5 https://google.com > /dev/null && echo \"ok\" || curl -s --connect-timeout 5 http://1.1.1.1 > /dev/null && echo \"cloudflare ok\" || echo \"no internet at all\")",
      "Bash(npm config get registry && npm ping 2>&1 | head -5)",
      "Bash(npm config set registry https://registry.npmjs.org/ && npm install --registry https://1.1.1.1 2>&1 | head -5 || true)",
      "Bash(npm run build 2>&1)",
      "Bash(tail -n 100 /Users/andriigubanov/.claude/projects/-Users-andriigubanov-Documents-Projects-Eduland/b98ee229-ad0f-4edf-a850-e1e095e0d9e2.jsonl | python3 -c \"import sys, json; lines = sys.stdin.read\\(\\).strip\\(\\).split\\('\\\\n'\\); [print\\(json.loads\\(l\\).get\\('message', {}\\).get\\('content', ''\\)\\) for l in lines[-20:] if json.loads\\(l\\).get\\('type'\\) in \\('user', 'assistant'\\)]\" 2>/dev/null | head -200)",
      "Bash(node -e \"\nconst fs = require\\('fs'\\);\n// Просто перевіряємо що файли існують і не порожні\nconst files = [\n  'src/firebase/service.js',\n  'src/components/MiningGrid.jsx',\n  'src/pages/City.jsx',\n];\nfiles.forEach\\(f => {\n  const size = fs.statSync\\(f\\).size;\n  console.log\\(f, size + ' bytes', size > 100 ? '✓' : '✗ empty!'\\);\n}\\);\n\")",
      "Bash(npx --no-install acorn --ecma2020 --module src/firebase/service.js > /dev/null 2>&1 && echo \"service.js: OK\" || echo \"service.js: PARSE ERROR\")",
      "Bash(npx --no-install acorn --ecma2020 --module src/firebase/service.js 2>&1 | tail -5)",
      "Bash(node --input-type=commonjs -e \"\nconst source = require\\('fs'\\).readFileSync\\('src/firebase/service.js', 'utf8'\\);\n// Просто перевіряємо що немає явних синтаксичних маркерів помилки\nconst checks = [\n  ['generateResourceMap', source.includes\\('generateResourceMap'\\)],\n  ['ensureResourceMap', source.includes\\('ensureResourceMap'\\)],\n  ['startResearch', source.includes\\('startResearch'\\)],\n  ['revealCell', source.includes\\('revealCell'\\)],\n  ['buildMine', source.includes\\('buildMine'\\)],\n  ['collectMine', source.includes\\('collectMine'\\)],\n  ['upgradeMine', source.includes\\('upgradeMine'\\)],\n  ['resourceMap in createPlayer', source.includes\\('resourceMap: generateResourceMap\\(\\)'\\)],\n];\nchecks.forEach\\(\\([name, ok]\\) => console.log\\(ok ? '✓' : '✗', name\\)\\);\n\"\\\\)",
      "Bash(node --input-type=commonjs -e \"\nconst source = require\\('fs'\\).readFileSync\\('src/pages/City.jsx', 'utf8'\\);\nconst checks = [\n  ['MiningGrid import', source.includes\\(\\\\\"import MiningGrid\\\\\"\\)],\n  ['ensureResourceMap import', source.includes\\('ensureResourceMap'\\)],\n  ['startResearch import', source.includes\\('startResearch'\\)],\n  ['handleStartResearch', source.includes\\('handleStartResearch'\\)],\n  ['handleCollectMine', source.includes\\('handleCollectMine'\\)],\n  ['MiningGrid in CityTab', source.includes\\('<MiningGrid'\\)],\n  ['ВИДОБУТОК section', source.includes\\('ВИДОБУТОК'\\)],\n];\nchecks.forEach\\(\\([name, ok]\\) => console.log\\(ok ? '✓' : '✗', name\\)\\);\n\")",
      "Bash(node --input-type=commonjs -e \"\nconst fs = require\\('fs'\\);\n\n// service.js checks\nconst svc = fs.readFileSync\\('src/firebase/service.js', 'utf8'\\);\nconst svcChecks = [\n  ['placeBuildingOnGrid', svc.includes\\('export async function placeBuildingOnGrid'\\)],\n  ['removeBuildingFromGrid', svc.includes\\('export async function removeBuildingFromGrid'\\)],\n  ['buildingPositions in createPlayer', svc.includes\\(\\\\\"buildingPositions: {}\\\\\"\\)],\n];\n\n// MiningGrid checks\nconst mg = fs.readFileSync\\('src/components/MiningGrid.jsx', 'utf8'\\);\nconst mgChecks = [\n  ['buildings prop', mg.includes\\('buildings,'\\)],\n  ['buildingMap', mg.includes\\('buildingMap'\\)],\n  ['BuildingCellPanel', mg.includes\\('function BuildingCellPanel'\\)],\n  ['EmptyCellPanel', mg.includes\\('function EmptyCellPanel'\\)],\n  ['onPlaceBuilding', mg.includes\\('onPlaceBuilding'\\)],\n  ['onRemoveBuilding', mg.includes\\('onRemoveBuilding'\\)],\n];\n\n// City.jsx checks\nconst city = fs.readFileSync\\('src/pages/City.jsx', 'utf8'\\);\nconst cityChecks = [\n  ['placeBuildingOnGrid import', city.includes\\('placeBuildingOnGrid'\\)],\n  ['removeBuildingFromGrid import', city.includes\\('removeBuildingFromGrid'\\)],\n  ['handlePlaceBuilding', city.includes\\('handlePlaceBuilding'\\)],\n  ['handleRemoveBuilding', city.includes\\('handleRemoveBuilding'\\)],\n  ['ПОЛЕ МІСТА section', city.includes\\('ПОЛЕ МІСТА'\\)],\n];\n\nconsole.log\\('=== service.js ==='\\);\nsvcChecks.forEach\\(\\([n, ok]\\) => console.log\\(ok ? '✓' : '✗', n\\)\\);\nconsole.log\\('=== MiningGrid.jsx ==='\\);\nmgChecks.forEach\\(\\([n, ok]\\) => console.log\\(ok ? '✓' : '✗', n\\)\\);\nconsole.log\\('=== City.jsx ==='\\);\ncityChecks.forEach\\(\\([n, ok]\\) => console.log\\(ok ? '✓' : '✗', n\\)\\);\n\")"
    ]
  }
}
