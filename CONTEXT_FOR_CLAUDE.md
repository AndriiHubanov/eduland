# Eduland ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç—É Claude

## –©–æ —Ü–µ –∑–∞ –ø—Ä–æ—î–∫—Ç

**Eduland** ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–∞ –≥—Ä–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –Ω–∞ –ø–∞—Ä–∞—Ö. –í–∏–∫–ª–∞–¥–∞—á –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ó—ó —è–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è. –°—Ç—É–¥–µ–Ω—Ç–∏ –±—É–¥—É—é—Ç—å –º—ñ—Å—Ç–æ, –≤–∏–∫–æ–Ω—É—é—Ç—å –∑–∞–≤–¥–∞–Ω–Ω—è, —Ç–æ—Ä–≥—É—é—Ç—å —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Ç–∞ –∑–º–∞–≥–∞—é—Ç—å—Å—è –≤ —Ä–µ–π—Ç–∏–Ω–≥—É –≥—Ä—É–ø–∏.

**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫:**
- React 18 + Vite 5, Tailwind CSS 3, Zustand, React Router v6, Firebase 10
- –¢—ñ–ª—å–∫–∏ JavaScript (–±–µ–∑ TypeScript)
- Firebase Firestore —è–∫ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (–∫–ª—ñ—î–Ω—Ç-—Å–∞–π–¥, –±–µ–∑ Cloud Functions)

**–î–∏–∑–∞–π–Ω:** –ø–æ—Å—Ç-–∞–ø–æ–∫–∞–ª—ñ–ø—Ç–∏—á–Ω–∞ —Ç–µ–º–∞, —à—Ä–∏—Ñ—Ç–∏ Bebas Neue + Share Tech Mono + Rajdhani
CSS-–∑–º—ñ–Ω–Ω—ñ: `--bg`, `--bg2`, `--bg3`, `--card`, `--border`, `--accent(#ff4500)`, `--neon(#00ff88)`, `--gold`, `--info`, `--text`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ BuildingCard.jsx   ‚Äî –ö–∞—Ä—Ç–∫–∞ –±—É–¥—ñ–≤–ª—ñ (—Ä—ñ–≤–µ–Ω—å, —Ä–æ–±—ñ—Ç–Ω–∏–∫–∏, –∞–ø–≥—Ä–µ–π–¥)
‚îÇ   ‚îú‚îÄ‚îÄ MiningGrid.jsx     ‚Äî –°—ñ—Ç–∫–∞ –º—ñ—Å—Ç–∞ 6√ó5 (–±—É–¥—ñ–≤–ª—ñ + –≤–∏–¥–æ–±—É—Ç–æ–∫) ‚Üê –ù–û–í–ò–ô
‚îÇ   ‚îî‚îÄ‚îÄ UI.jsx             ‚Äî ResourceBar, XPBar, Spinner, Card, BottomNav —Ç–æ—â–æ
‚îú‚îÄ‚îÄ firebase/
‚îÇ   ‚îú‚îÄ‚îÄ config.js          ‚Äî –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase (–∑–º—ñ–Ω–Ω—ñ –∑ .env)
‚îÇ   ‚îî‚îÄ‚îÄ service.js         ‚Äî –í–°–Ü –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ Firestore
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ City.jsx           ‚Äî –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≥—Ä–∏ (–º—ñ—Å—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ WorldMap.jsx       ‚Äî –ö–∞—Ä—Ç–∞ —Ä–µ–≥—ñ–æ–Ω—É (10√ó10 —Å—ñ—Ç–∫–∞ –≥—Ä–∞–≤—Ü—ñ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ Tasks.jsx          ‚Äî –ó–∞–≤–¥–∞–Ω–Ω—è (—Ç–µ—Å—Ç–∏ + –≤—ñ–¥–∫—Ä–∏—Ç—ñ)
‚îÇ   ‚îú‚îÄ‚îÄ Inbox.jsx          ‚Äî –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ Trade.jsx          ‚Äî –¢–æ—Ä–≥—ñ–≤–ª—è –º—ñ–∂ –≥—Ä–∞–≤—Ü—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ HeroCreate.jsx     ‚Äî –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
‚îÇ   ‚îú‚îÄ‚îÄ Landing.jsx        ‚Äî –í—Ö—ñ–¥/–ø–æ—à—É–∫ –≥—Ä–∞–≤—Ü—è
‚îÇ   ‚îî‚îÄ‚îÄ Admin.jsx          ‚Äî –ê–¥–º—ñ–Ω–∫–∞ –¥–ª—è –≤–∏–∫–ª–∞–¥–∞—á–∞ (–ø–∞—Ä–æ–ª—å: nova2047)
‚îî‚îÄ‚îÄ store/
    ‚îî‚îÄ‚îÄ gameStore.js       ‚Äî Zustand store + –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ (GROUPS, HERO_CLASSES, RESOURCE_ICONS)
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö Firebase

### –ö–æ–ª–µ–∫—Ü—ñ—ó:
- `/players/{playerId}` ‚Äî –¥–∞–Ω—ñ –≥—Ä–∞–≤—Ü—ñ–≤ (`id = {group}_{timestamp}`)
- `/tasks/{taskId}` ‚Äî –∑–∞–≤–¥–∞–Ω–Ω—è (—Ç–µ—Å—Ç–∏ + –≤—ñ–¥–∫—Ä–∏—Ç—ñ)
- `/submissions/{id}` ‚Äî –∑–¥–∞—á—ñ –∑–∞–≤–¥–∞–Ω—å
- `/trades/{id}` ‚Äî —Ç–æ—Ä–≥–æ–≤—ñ –∑–∞–ø–∏—Ç–∏
- `/messages/{id}` ‚Äî –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º—ñ–∂ –≥—Ä–∞–≤—Ü—è–º–∏
- `/config/buildings/buildings/{id}` ‚Äî –∫–æ–Ω—Ñ—ñ–≥ –±—É–¥—ñ–≤–µ–ª—å
- `/config/disciplines/disciplines/{id}` ‚Äî –∫–æ–Ω—Ñ—ñ–≥ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≥—Ä–∞–≤—Ü—è (`/players/{id}`):
```js
{
  id: "PD11_1700000000000",
  name: "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ",
  normalizedName: "—ñ–≤–∞–Ω –ø–µ—Ç—Ä–µ–Ω–∫–æ",
  group: "PD11",
  gender: "male",
  heroName: "–ó–∞–ª—ñ–∑–Ω–∏–π –ö—É–ª–∞–∫",
  heroClass: "guardian",   // guardian | archivist | detective | coordinator
  heroLevel: 1,
  heroXP: 0,
  heroStats: { intellect: 5, endurance: 8, charisma: 5 },
  resources: { gold: 200, wood: 100, stone: 50, crystals: 0, bits: 0, code: 0 },
  buildings: {
    server:   { level: 1, workers: 0 },
    lab:      { level: 0, workers: 0 },
    tower:    { level: 0, workers: 0 },
    archive:  { level: 0, workers: 0 },
    firewall: { level: 0, workers: 0 },
  },
  workers: { total: 5, placed: 0 },

  // ‚îÄ‚îÄ –ù–û–í–Ü –ü–û–õ–Ø (–¥–æ–¥–∞–Ω–æ –≤ –ø–æ—Ç–æ—á–Ω—ñ–π —Å–µ—Å—ñ—ó) ‚îÄ‚îÄ
  buildingPositions: {
    // buildingId ‚Üí cellIndex (0-29) –∞–±–æ null (–Ω–µ —Ä–æ–∑–º—ñ—â–µ–Ω–æ)
    server: 2,
    lab: null,
  },
  resourceMap: {
    // –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞ –∫–∞—Ä—Ç–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤ (12 –∫–ª—ñ—Ç–∏–Ω–æ–∫ –∑ 30)
    "3": "gold",
    "7": "bits",
    "11": "code",
    // ... –≤—Å—å–æ–≥–æ 12 –∑–∞–ø–∏—Å—ñ–≤
  },
  cellStates: {
    // –≤–∏–¥–∏–º–∏–π —Å—Ç–∞–Ω –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫
    "3": {
      status: "researching",  // researching | revealed | mine
      startedAt: Timestamp,
      endsAt: Timestamp,
    },
    "7": {
      status: "mine",
      resource: "bits",
      mineLevel: 1,           // 1 | 2 | 3
      lastCollected: Timestamp,
    },
  },

  cityPosition: { x: 3, y: 5 },  // –ø–æ–∑–∏—Ü—ñ—è –Ω–∞ –∫–∞—Ä—Ç—ñ —Ä–µ–≥—ñ–æ–Ω—É (10√ó10)
  lastWorkerReset: Timestamp,
  lastActive: Timestamp,
  createdAt: Timestamp,
}
```

---

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –≥—Ä–∏

### –†–µ—Å—É—Ä—Å–∏ (`RESOURCE_ICONS` –≤ gameStore.js):
```js
gold:     { icon: 'ü™ô', name: '–ó–æ–ª–æ—Ç–æ',  color: '#ffd700' }
wood:     { icon: 'ü™µ', name: '–î–µ—Ä–µ–≤–∏–Ω–∞', color: '#8B4513' }
stone:    { icon: 'ü™®', name: '–ö–∞–º—ñ–Ω—å',   color: '#808080' }
crystals: { icon: 'üíé', name: '–ö—Ä–∏—Å—Ç–∞–ª–∏', color: '#00ffff' }
bits:     { icon: 'üíæ', name: '–ë—ñ—Ç–∏',     color: '#00aaff' }
code:     { icon: 'üîê', name: '–ö–æ–¥',      color: '#00ff88' }
```

### –ë—É–¥—ñ–≤–ª—ñ (5 —à—Ç—É–∫, –∫–æ–Ω—Ñ—ñ–≥ —É Firebase `/config/buildings/buildings/`):
| ID | –ù–∞–∑–≤–∞ | –Ü–∫–æ–Ω–∫–∞ | –í–∏—Ä–æ–±–ª—è—î | –°–∏–Ω–µ—Ä–≥—ñ—è (2+ —Ä–æ–±—ñ—Ç–Ω–∏–∫–∏) |
|---|---|---|---|---|
| server | –°–µ—Ä–≤–µ—Ä | üñ•Ô∏è | bits + gold | +5 bits |
| lab | –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è | üî¨ | bits + code | +3 code |
| tower | –í–µ–∂–∞ –∑–≤'—è–∑–∫—É | üì° | code + gold | +5 gold |
| archive | –°—Ö–æ–≤–∏—â–µ –¥–∞–Ω–∏—Ö | üóÑÔ∏è | bits + stone | +4 bits |
| firewall | –ë—Ä–∞–Ω–¥–º–∞—É–µ—Ä | üõ°Ô∏è | code + gold | +6 code |

–ö–æ–∂–Ω–∞ –±—É–¥—ñ–≤–ª—è –º–∞—î 3 —Ä—ñ–≤–Ω—ñ –∑ –≤–ª–∞—Å–Ω–∏–º–∏ –≤–∏—Ç—Ä–∞—Ç–∞–º–∏ —Ç–∞ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–æ–º, 1-3 —Å–ª–æ—Ç–∏ –¥–ª—è —Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤.

### –ö–ª–∞—Å–∏ –≥–µ—Ä–æ—ó–≤ (`HERO_CLASSES`):
- guardian (üõ°Ô∏è) ‚Äî +3 –í–∏—Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å
- archivist (üìã) ‚Äî +3 –Ü–Ω—Ç–µ–ª–µ–∫—Ç
- detective (üîç) ‚Äî +2 –Ü–Ω—Ç–µ–ª–µ–∫—Ç +1 –•–∞—Ä–∏–∑–º–∞
- coordinator (üó∫Ô∏è) ‚Äî +3 –•–∞—Ä–∏–∑–º–∞

### XP —Ä—ñ–≤–Ω—ñ: `[0, 100, 250, 450, 700, 1000]` (6 —Ä—ñ–≤–Ω—ñ–≤ –º–∞–∫—Å–∏–º—É–º)

---

## –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ–∞–∑–∏

- ‚úÖ **–§–∞–∑–∞ 1:** Landing, HeroCreate, Firebase init, City (–±–∞–∑–æ–≤–∞), Admin, –≤—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- ‚úÖ **–§–∞–∑–∞ 2:** –í–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ + –∞–ø–≥—Ä–µ–π–¥–∏ + WorkerResetTimer
- ‚úÖ **–§–∞–∑–∞ 3:** –ó–∞–≤–¥–∞–Ω–Ω—è (—Ç–µ—Å—Ç–∏ + –≤—ñ–¥–∫—Ä–∏—Ç—ñ), CompletionCard, Admin ApprovalsTab/TasksTab
- ‚úÖ **–§–∞–∑–∞ 4:** Trade (cancel/per-card loading), Inbox (mark all read)
- ‚úÖ **–§–∞–∑–∞ 5:** WorldMap leaderboard, unread badge global, HeroCreate stat allocation
- ‚úÖ **–§–∞–∑–∞ 6:** Tasks filter tabs, City level-up modal, Admin StatsTab, BuildingCard next-level preview
- ‚úÖ **–§–∞–∑–∞ 7:** –ü–æ–ª–µ –º—ñ—Å—Ç–∞ (MiningGrid) ‚Äî –±—É–¥—ñ–≤–ª—ñ + –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è + –∫–æ–ø–∞–ª—å–Ω—ñ

---

## –§–∞–∑–∞ 7 ‚Äî –Ü–¥–µ—è —Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è (–ø–æ—Ç–æ—á–Ω–∞ —Å–µ—Å—ñ—è)

### –Ü–¥–µ—è:
–î–æ–¥–∞—Ç–∏ –¥–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ "–ú—ñ—Å—Ç–æ" **—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É —Å—ñ—Ç–∫—É 6√ó5 = 30 –∫–ª—ñ—Ç–∏–Ω–æ–∫** ("–ü–æ–ª–µ –º—ñ—Å—Ç–∞") –¥–µ:
1. –ì—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ **—Ä–æ–∑–º—ñ—â—É–≤–∞—Ç–∏ —Å–≤–æ—ó –±—É–¥—ñ–≤–ª—ñ** –Ω–∞ –∫–ª—ñ—Ç–∏–Ω–∫–∞—Ö (–≤—ñ–∑—É–∞–ª—å–Ω–∏–π –º—ñ—Å—å–∫–∏–π –ø–ª–∞–Ω)
2. 12 –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫ –º–∞—é—Ç—å **—Ä–µ—Å—É—Ä—Å–Ω—ñ –ø–æ–∫–ª–∞–¥–∏** (–≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —Ä–∞–Ω–¥–æ–º–Ω–æ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞)
3. –ì—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ **–¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏** –∫–ª—ñ—Ç–∏–Ω–∫–∏ —á–µ—Ä–µ–∑ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—é (–≤–∞—Ä—Ç—ñ—Å—Ç—å: üíæ 50 –ë—ñ—Ç—ñ–≤, —á–∞—Å: 6 –≥–æ–¥–∏–Ω)
4. –ü—ñ—Å–ª—è –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è ‚Äî –±—É–¥—É–≤–∞—Ç–∏ **–∫–æ–ø–∞–ª—å–Ω—é** –Ω–∞ —Ä–æ–∑–∫—Ä–∏—Ç–∏—Ö –ø–æ–∫–ª–∞–¥–∞—Ö (–≤–∞—Ä—Ç—ñ—Å—Ç—å: ü™ô 150 –ó–æ–ª–æ—Ç–∞)
5. –ö–æ–ø–∞–ª—å–Ω—è **–ø–∞—Å–∏–≤–Ω–æ –Ω–∞–∫–æ–ø–∏—á—É—î** —Ä–µ—Å—É—Ä—Å, –≥—Ä–∞–≤–µ—Ü—å –∞–∫—Ç–∏–≤–Ω–æ **–∑–±–∏—Ä–∞—î** –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è–º

### –ú–µ—Ö–∞–Ω—ñ–∫–∞ –∫–æ–ø–∞–ª–µ–Ω—å:
```
–†—ñ–≤–µ–Ω—å 1: 5 —Ä–µ—Å—É—Ä—Å—ñ–≤/–≥–æ–¥, –º–∞–∫—Å–∏–º—É–º 80 –æ–¥–∏–Ω–∏—Ü—å –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è
–†—ñ–≤–µ–Ω—å 2: 12 —Ä–µ—Å—É—Ä—Å—ñ–≤/–≥–æ–¥, –º–∞–∫—Å–∏–º—É–º 200 –æ–¥–∏–Ω–∏—Ü—å | –∞–ø–≥—Ä–µ–π–¥: ü™ô200 + üíæ30
–†—ñ–≤–µ–Ω—å 3: 25 —Ä–µ—Å—É—Ä—Å—ñ–≤/–≥–æ–¥, –º–∞–∫—Å–∏–º—É–º 500 –æ–¥–∏–Ω–∏—Ü—å | –∞–ø–≥—Ä–µ–π–¥: ü™ô400 + üíæ80 + üîê15
```

### –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —É –§–∞–∑—ñ 7:

**`src/firebase/service.js`** ‚Äî –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
- `generateResourceMap()` ‚Äî 12 —Ä–∞–Ω–¥–æ–º–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (pool: gold√ó3, bits√ó3, code√ó2, stone√ó2, wood, crystals)
- `ensureResourceMap(playerId)` ‚Äî —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –±–µ–∑ resourceMap
- `startResearch(playerId, cellIndex)` ‚Äî –≤–∞–ª—ñ–¥–∞—Ü—ñ—è Lab‚â•1 + —Å–ø–∏—Å–∞–Ω–Ω—è –ë—ñ—Ç—ñ–≤ + –∑–∞–ø—É—Å–∫ 6-–≥–æ–¥ —Ç–∞–π–º–µ—Ä–∞
- `revealCell(playerId, cellIndex)` ‚Äî —Ä–æ–∑–∫—Ä–∏–≤–∞—î —Ä–µ—Å—É—Ä—Å –ø—ñ—Å–ª—è —Ç–∞–π–º–µ—Ä–∞
- `buildMine(playerId, cellIndex)` ‚Äî –±—É–¥—É—î –∫–æ–ø–∞–ª—å–Ω—é (—Å–ø–∏—Å—É—î –ó–æ–ª–æ—Ç–æ)
- `collectMine(playerId, cellIndex)` ‚Üí `{ resource, amount }` ‚Äî –∑–±–∏—Ä–∞—î –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è
- `upgradeMine(playerId, cellIndex)` ‚Äî –ø–æ–∫—Ä–∞—â—É—î –∫–æ–ø–∞–ª—å–Ω—é (–≤–∞–ª—ñ–¥—É—î —Ä–µ—Å—É—Ä—Å–∏)
- `placeBuildingOnGrid(playerId, buildingId, cellIndex)` ‚Äî —Ä–æ–∑–º—ñ—â—É—î –∞–±–æ –ø–µ—Ä–µ–º—ñ—â—É—î –±—É–¥—ñ–≤–ª—é
- `removeBuildingFromGrid(playerId, buildingId)` ‚Äî –∑–Ω—ñ–º–∞—î –±—É–¥—ñ–≤–ª—é –∑ –ø–æ–ª—è

**`src/components/MiningGrid.jsx`** (–Ω–æ–≤–∏–π —Ñ–∞–π–ª, ~740 —Ä—è–¥–∫—ñ–≤):
- –°—ñ—Ç–∫–∞ 6√ó5 = 30 –∫–ª—ñ—Ç–∏–Ω–æ–∫, –≤—Å—ñ –∫–ª—ñ—Ç–∏–Ω–∫–∏ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ
- 6 —Å—Ç–∞–Ω—ñ–≤ –∫–ª—ñ—Ç–∏–Ω–∫–∏ –∑ —Ä—ñ–∑–Ω–∏–º —Ä–µ–Ω–¥–µ—Ä–æ–º:
  - –ü–æ—Ä–æ–∂–Ω—è ‚Üí —Å–ª–∞–π–¥-–∞–ø –∑ –≤–∏–±–æ—Ä–æ–º –±—É–¥—ñ–≤–ª—ñ –¥–ª—è —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è
  - `?` (–ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å) ‚Üí —Å–ª–∞–π–¥-–∞–ø –∑ –∫–Ω–æ–ø–∫–æ—é "–î–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏"
  - `‚è≥` (–¥–æ—Å–ª—ñ–¥–∂—É—î—Ç—å—Å—è) ‚Üí —Å–ª–∞–π–¥-–∞–ø –∑ —Ç–∞–π–º–µ—Ä–æ–º –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤—ñ–¥–ª—ñ–∫—É
  - `‚ú®` (–¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ) ‚Üí —Å–ª–∞–π–¥-–∞–ø –∑ –∫–Ω–æ–ø–∫–æ—é "–†–æ–∑–∫—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç"
  - `‚õèÔ∏è` (–∫–æ–ø–∞–ª—å–Ω—è) ‚Üí —Å–ª–∞–π–¥-–∞–ø –∑—ñ –∑–±–æ—Ä–æ–º, –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä–æ–º, –∞–ø–≥—Ä–µ–π–¥–æ–º
  - –ë—É–¥—ñ–≤–ª—è (—ñ–∫–æ–Ω–∫–∞ + –∑–æ–ª–æ—Ç—ñ –∫—Ä–∞–ø–∫–∏ —Ä—ñ–≤–Ω—è) ‚Üí –º—ñ–Ω—ñ-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏ + –∞–ø–≥—Ä–µ–π–¥ + –∑–Ω—è—Ç–∏)
- –í—Å—ñ –ø–∞–Ω–µ–ª—ñ ‚Äî —Å–ª–∞–π–¥-–∞–ø (—è–∫ —É WorldMap)

**`src/pages/City.jsx`** ‚Äî –∑–º—ñ–Ω–∏:
- –ù–æ–≤–∞ —Å–µ–∫—Ü—ñ—è **"–ü–û–õ–ï –ú–Ü–°–¢–ê"** (–ø—ñ—Å–ª—è "–ë–£–î–Ü–í–õ–Ü")
- 7 –Ω–æ–≤–∏—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤: handleStartResearch, handleRevealCell, handleBuildMine, handleCollectMine, handleUpgradeMine, handlePlaceBuilding, handleRemoveBuilding
- –ê–≤—Ç–æ—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è resourceMap –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ —á–µ—Ä–µ–∑ `ensureResourceMap`

### –ó–∞—Ö–∏—Å–Ω–∞ –ª–æ–≥—ñ–∫–∞ (—â–æ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ):
- –ù–µ –º–æ–∂–Ω–∞ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –±—É–¥—ñ–≤–ª—é –Ω–∞ –∫–ª—ñ—Ç–∏–Ω—Ü—ñ –∑ `?` (–ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å)
- –ù–µ –º–æ–∂–Ω–∞ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –±—É–¥—ñ–≤–ª—é –Ω–∞ –∫–ª—ñ—Ç–∏–Ω—Ü—ñ –∑ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è–º –∞–±–æ –∫–æ–ø–∞–ª—å–Ω–µ—é
- –û–¥–Ω–∞ –∫–ª—ñ—Ç–∏–Ω–∫–∞ ‚Äî –æ–¥–Ω–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å (–±—É–¥—ñ–≤–ª—è –ê–ë–û –∫–æ–ø–∞–ª—å–Ω—è, –Ω–µ –æ–±–∏–¥–≤–∞)
- –ù–µ –º–æ–∂–Ω–∞ –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –∫–ª—ñ—Ç–∏–Ω–∫–∏ –Ω–∞ —è–∫–∏—Ö –≤–∂–µ —î —Å—Ç–∞–Ω

---

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω: —â–æ —â–µ –ù–ï –∑—Ä–æ–±–ª–µ–Ω–æ / –º–æ–∂–ª–∏–≤—ñ –Ω–∞–ø—Ä—è–º–∏

- **–ü—Ä–∏–±–∏—Ä–∞—Ç–∏ –∫–∞—Ä—Ç–∏ –±—É–¥—ñ–≤–µ–ª—å** –∑—ñ —Å–ø–∏—Å–∫—É –Ω–∏–∂—á–µ –ø—ñ—Å–ª—è —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –Ω–∞ –ø–æ–ª—ñ (–∞–±–æ –∑–∞–ª–∏—à–∏—Ç–∏ –æ–±–∏–¥–≤–∞ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ)
- **–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –ø–æ–ª—è** —É –ø—Ä–æ—Ñ—ñ–ª—ñ –Ω–∞ WorldMap (–ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ø–∞–ª–µ–Ω—å)
- **–õ—ñ–º—ñ—Ç –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç—ñ–ª—å–∫–∏ 1 –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –∑–∞ —Ä–∞–∑ –Ω–∞ –õ–∞–± –†—ñ–≤.1, 2 –Ω–∞ –†—ñ–≤.2, 3 –Ω–∞ –†—ñ–≤.3)
- **–ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –∫–æ–ø–∞–ª–µ–Ω—å –ø—Ä–∏ –≤—Ö–æ–¥—ñ** (–∑–∞—Ä–∞–∑ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –∫–ª—ñ—î–Ω—Ç—Å–∞–π–¥ –∑ `lastCollected`)
- **Admin-–ø–∞–Ω–µ–ª—å** –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –∫–æ–ø–∞–ª–µ–Ω—å –≥—Ä–∞–≤—Ü—ñ–≤
- **–ù–æ–≤—ñ –±—É–¥—ñ–≤–ª—ñ** –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –º–µ—Ö–∞–Ω—ñ–∫–æ—é –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —à–∞—Ö—Ç–∞—Ä—Å—å–∫–∞ –≤–µ–∂–∞ —â–æ –ø—Ä–∏—Å–∫–æ—Ä—é—î –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è)

---

## –ö–ª—é—á–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –∫–æ–¥–æ–≤–æ—ó –±–∞–∑–∏

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è Firebase (—á–µ—Ä–µ–∑ dot notation):
```js
// –í–∫–ª–∞–¥–µ–Ω—ñ –ø–æ–ª—è ‚Äî —á–µ—Ä–µ–∑ –∫—Ä–∞–ø–∫—É –≤ –∫–ª—é—á—ñ
await updateDoc(playerRef, {
  [`buildings.${buildingId}.workers`]: newCount,
  [`cellStates.${cellIndex}.lastCollected`]: new Date(),
  lastActive: serverTimestamp(),
})
```

### –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (–¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π):
```js
await runTransaction(db, async (tx) => {
  const snap = await tx.get(playerRef)
  const player = snap.data()
  // –≤–∞–ª—ñ–¥–∞—Ü—ñ—è...
  tx.update(playerRef, { ... })
})
```

### –ü—ñ–¥–ø–∏—Å–∫–∏ (—Ä–µ–∞–ª—å–Ω–∏–π —á–∞—Å):
```js
const unsub = subscribePlayer(playerId, (data) => setPlayer(data))
// cleanup –≤ useEffect return
```

### –°–ª–∞–π–¥-–∞–ø –ø–∞–Ω–µ–ª—ñ (CSS –∞–Ω—ñ–º–∞—Ü—ñ—è):
```jsx
<div className="fixed bottom-[56px] left-0 right-0 z-40 animate-slide-up">
  ...
</div>
```

### Feedback (success/error –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É City):
```js
showFeedback('success', '–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è')
showFeedback('error', err.message)
```

---

## –î–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç—É –≤ –Ω–æ–≤–æ–º—É —á–∞—Ç—ñ

–°–∫–∞–∂–∏ Claude:
> "–Ø —Ä–æ–∑—Ä–æ–±–ª—è—é –Ω–∞–≤—á–∞–ª—å–Ω—É –≥—Ä—É Eduland –Ω–∞ React + Firebase. –ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª CONTEXT_FOR_CLAUDE.md —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É ‚Äî —Ç–∞–º –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ—î–∫—Ç—É, —â–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —ñ —â–æ —è —Ö–æ—á—É –∑—Ä–æ–±–∏—Ç–∏ –¥–∞–ª—ñ. –î–∞–≤–∞–π –ø—Ä–æ–¥–æ–≤–∂–∏–º–æ –∑ [–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –∑–∞–¥–∞—á–∞]."
